{"version":3,"sources":["webpack:///webpack/bootstrap ccb2b282412781e38210","webpack:///./src/main.js","webpack:///external \"Bacon\"","webpack:///external \"_\"","webpack:///external \"jQuery\"","webpack:///./src/util.js","webpack:///./src/entity.js","webpack:///./src/presenter.js","webpack:///./src/repository.js","webpack:///./src/storage.js","webpack:///./src/storage/restapi.js","webpack:///./src/storage/localforage.js","webpack:///./src/view.js","webpack:///./src/view/appView.js","webpack:///external \"Bacon.localforage\""],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAAyB;AACzB,6BAA4B;AAC5B,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,2BAA2B;AAC/C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA,MAAK;AACL;;AAEA;AACA,eAAc,+CAA+C;AAC7D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,mFAAkF,yBAAyB,EAAE;AAC7G,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL,EAAC;;;;;;;;;;;ACzND,wB;;;;;;;;;ACAA,oB;;;;;;;;;ACAA,yB;;;;;;;;;ACAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA8B,6BAA6B;AAC3D;;AAEA,2EAA0E,GAAG,qBAAqB;AAClG;AACA;;;;;;;;;;;AC/CA;;AAEA;AACA;AACA;;;;;;;;;;;ACJA;;AAEA;;AAEA;;AAEA,iDAAgD;AAChD,0DAAyD;AACzD,wCAAuC;AACvC;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE,iDAAiD,EAAE;AACpH,cAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;AC/BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAgD;AAChD;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT,8CAA6C,cAAc;AAC3D,kDAAiD,cAAc;AAC/D,iDAAgD,cAAc;AAC9D,+CAA8C,cAAc;AAC5D,kDAAiD,cAAc;AAC/D,iDAAgD,iBAAiB;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uDAAsD,6BAA6B;AACnF,gEAA+D,6BAA6B;AAC5F;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAqD;AACrD;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,yDAAwD,6BAA6B,EAAE;AACvF;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;;;;;;;;;;ACzGA;;AAEA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACnBA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACjCA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;ACvBA;;AAEA;;AAEA,iDAAgD;AAChD,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA,8CAA6C;AAC7C,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;AC1EA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACvBA,oC","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ccb2b282412781e38210\n **/","'use strict';\n\nvar util = require('./util'),\n    _app = null,\n    _appEvent = new Bacon.Bus(),\n    onReady = null;\n\nmodule.exports.run = function run(config) {\n    _app = new _App(config);\n};\n\nmodule.exports.app = function app() {\n    return _app;\n};\n\nmodule.exports.on = function on(eventInfo, f) {\n    return _on(_appEvent, eventInfo, f);\n};\n\nmodule.exports.onInitialize = function onInitialize(f) {\n    return _on(_appEvent, 'initialize', f);\n};\n\nonReady = module.exports.onReady = function onReady(f) {\n    return _on(_appEvent, 'ready', f);\n};\n\nmodule.exports.util = util;\nmodule.exports.entity = { Entity: require('./entity') };\nmodule.exports.presenter = { Presenter: require('./presenter') };\nmodule.exports.repository = { Repository: require('./repository') };\nmodule.exports.storage = {\n    Storage: require('./storage'),\n    RESTApiStorage: require('./storage/restapi'),\n    LocalForageStorage: require('./storage/localforage')\n};\nmodule.exports.view = {\n    View: require('./view'),\n    AppView: require('./view/appView')\n};\n\nfunction _App(config) {\n\n    this.currentPath = function currentPath() {\n\n        var location = history.location || document.location;\n        return location.hash.length > 0 ?\n               location.hash.slice(1) :\n               location.pathname + location.search;\n    };\n\n    this.config = _.defaults(config, {\n        body: 'body',\n        link: 'a',\n        defaultView: '',\n        routes: {},\n        initialPath: this.currentPath()\n    });\n\n    var _routes = _.map(this.config.routes, function(v, k) {\n        var keys = [];\n        return {\n            regexp: util.pathToRegexp(k, keys),\n            keys: keys,\n            view: v\n        };\n    }),\n        _event = new Bacon.Bus(),\n        _path = new Bacon.Bus(),\n        _view = new Bacon.Bus(),\n        self = this;\n\n    this.observe = function observe(eventInfo, f) {\n        return _observe(_event, eventInfo, f);\n    };\n\n    this.on = function on(eventInfo, f) {\n        return _on(_event, eventInfo, f);\n    };\n\n    this.trigger = function trigger(eventName, value, params) {\n        _trigger(_event, eventName, value, params);\n    };\n\n    this.route = function route(path, params) {\n        if (params) {\n            path += (path.indexOf('?') == -1 ? '?' : '&') + $.param(params);\n        }\n        history.pushState(null, null, path);\n        this.dispatch(path.replace(/^.*\\/\\/[^\\/]+/, ''));\n    };\n\n    this.loadView = function loadView(view, params) {\n        _view.push({view: view, params: params});\n    };\n\n    this.dispatch = function dispatch(path) {\n        _path.push(path || this.currentPath());\n    };\n\n    _addEventRegisters(this, [\n        'preLoadView', 'loadView', 'postLoadView',\n        'preRenderView', 'renderView', 'postRenderView',\n        'leaveView'\n    ]);\n\n    _event.plug(Bacon.mergeAll(\n        _view.map(_makeViewEventInfo, 'preLoadView'),\n        _view.map(_makeViewEventInfo, 'loadView'),\n        _view.map(_makeViewEventInfo, 'postLoadView')\n    ));\n\n    _view.plug(_path.scan(null, function(viewInfo, path) {\n        if (viewInfo) {\n            self.trigger('leaveView', viewInfo.view);\n        }\n        return _parse(path);\n    }).where().truthy());\n\n    _trigger(_appEvent, 'initialize', 'app', this);\n    _trigger(_appEvent, 'ready', 'app', this);\n\n    this.dispatch(config.initialPath);\n\n    function _parse(path) {\n\n        if (path) {\n            path = path.replace(/^#\\//, '/');\n        } else {\n            path = '';\n        }\n\n        var paths = path.split('?'),\n            params = {};\n        if (paths.length === 2) {\n            paths[1].replace(/([^&=]+)=([^&]*)/g, function() {\n                params[decodeURIComponent(arguments[1])] = decodeURIComponent(arguments[2]);\n            });\n        }\n\n        var viewInfo = {\n            view: config.defaultView,\n            params: params\n        };\n        _.find(_routes, function(route) {\n\n            var m = route.regexp.exec(paths[0]);\n            if (!m) {\n                return false;\n            }\n\n            _.each(m.slice(1), function(value, i) {\n                params[route.keys[i].name] = decodeURIComponent(value);\n            });\n\n            viewInfo.view = route.view;\n            viewInfo.params = params;\n\n            return true;\n        });\n\n        return viewInfo;\n    }\n}\n\nfunction _addEventRegisters(obj, eventNames) {\n    _.each(eventNames, function(event) {\n        obj['on' + util.capitalize(event)] = function(value, f) {\n            return obj.on({event: event, value: value}, f);\n        }\n    }, obj);\n}\n\nfunction _trigger(bus, eventName, value, params) {\n    bus.push({event: eventName, value: value, params: params})\n}\n\nfunction _makeViewEventInfo(eventName, viewInfo) {\n    return {\n        event: eventName,\n        value: viewInfo.view,\n        params: viewInfo.params\n    }\n}\n\nfunction _makeEventInfo(info) {\n    if (_.isObject(info)) {\n        return info;\n    } else if (_.isString(info)) {\n        return _(['event', 'value']).zipObject(info.split(':')).omit(function(v) { return _.isUndefined(v); }).value();\n    } else {\n        throw new TypeError('invalid event info value \"' + info + '\".');\n    }\n}\n\nfunction _on(stream, eventInfo, f) {\n    return _onValueOrStream(_observe(stream, _makeEventInfo(eventInfo)).map('.params'), f);\n}\n\nfunction _observe(stream, eventInfo, f) {\n    return _onValueOrStream(stream.where().containerOf(eventInfo), f);\n}\n\nfunction _onValueOrStream(stream, f) {\n    return _.isUndefined(f) ? stream : stream.onValue(f);\n}\n\nonReady(function(app) {\n\n    $(app.config.body).clickE(app.config.link)\n        .doAction('.preventDefault')\n        .map('.target.href')\n        .assign(app, 'route');\n\n    $(window).on('popstate', function(e) {\n        app.dispatch();\n    });\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = Bacon;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Bacon\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports.capitalize = function capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nmodule.exports.assignAndDefaults = function assignAndDefaults(dst, props, defaults) {\n    return _.defaults(\n        _.assign(dst, props || {}),\n        defaults\n    );\n};\n\nmodule.exports.pathToRegexp = function pathToRegexp(path, keys, sensitive, strict) {\n    if (path instanceof RegExp) return path;\n    if (path instanceof Array) path = '(' + path.join('|') + ')';\n    path = path\n        .concat(strict ? '' : '/?')\n        .replace(/\\/\\(/g, '(?:/')\n        .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional){\n            keys.push({ name: key, optional: !! optional });\n            slash = slash || '';\n            return ''\n                + (optional ? '' : slash)\n                + '(?:'\n                + (optional ? slash : '')\n                + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')'\n                + (optional || '');\n        })\n        .replace(/([\\/.])/g, '\\\\$1')\n        .replace(/\\*/g, '(.*)');\n    return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n};\n\nmodule.exports.define = module.exports.inherit = function define(base, derived, properties) {\n\n    if (arguments.length < 2) {\n        throw new Error('too few arguments.');\n    }\n\n    if (_.isPlainObject(derived)) {\n        properties = derived;\n        derived = function() { base.apply(this, arguments); };\n    }\n\n    derived.prototype = _.create(base.prototype, _.assign(properties || {}, {constructor: derived}));\n    return derived;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = function Entity(initialValue) {\n    _.assign(this, initialValue);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/entity.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\n\nvar Presenter = function Presenter(app, properties) {\n\n        var self = this;\n\n        properties = _.defaults(properties || {}, {\n            initialViewModel: this.initialViewModel || {},\n            busDefs: this.busDefs || {},\n            initialize: this.initialize || null\n        });\n\n        this.app = app;\n        this.bus = {};\n        this.viewModel = Bacon.update.apply(\n            null,\n            [properties.initialViewModel].concat(_(properties.busDefs).map(function(f, name) {\n                self.bus[name] = new Bacon.Bus();\n                return [[self.bus[name]], function(prev, value) { return f.call(self, _.clone(prev, true), value); }];\n            }).flatten(true).value())\n        );\n\n        if (properties.initialize) {\n            properties.initialize.call(this);\n        }\n    };\n\nPresenter.prototype.viewModelChanges = function viewModelChanges(mapping) {\n    return (mapping ? this.viewModel.map(mapping) : this.viewModel).skipDuplicates(_.isEqual).changes();\n};\n\nmodule.exports = Presenter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/presenter.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\n\nvar util = require('./util'),\n    Repository = function Repository(storage, properties) {\n\n        var defaultInterfaceDef = {\n            path: null,\n            // type: null,\n            in: null,\n            out: null,\n            sinkFactory: null\n        };\n\n        properties = _.defaults(properties || {}, {\n            interfaceDefs: this.interfaceDefs || {}\n        });\n\n        this.storage = storage;\n        this._interfaceDefs = _.mapValues(properties.interfaceDefs, function(v) {\n            return _.defaults(v, defaultInterfaceDef);\n        });\n        _.defaults(this._interfaceDefs.add, { type: 'set' });\n        _.defaults(this._interfaceDefs.bulkAdd, { type: 'set' });\n        _.defaults(this._interfaceDefs.update, { type: 'set' });\n        _.defaults(this._interfaceDefs.find, { type: 'get' });\n        _.defaults(this._interfaceDefs.findAll, { type: 'get' });\n        _.defaults(this._interfaceDefs.remove, { type: 'remove' });\n\n        this.bus = {};\n        this.sink = {};\n        this.error = {};\n        this.awaiting = {};\n        _.forEach(this._interfaceDefs, function(def, name) {\n            this.bus[name] = new Bacon.Bus();\n            this.sink[name] = (def.sinkFactory || _genericSinkFactory).call(this, name, this.bus[name]);\n            this.error[name] = this.sink[name].errors();\n            this.awaiting[name] = this.bus[name].awaiting(this.sink[name]);\n        }, this);\n    };\n\nRepository.prototype.push = function push(name, arg) {\n    this.bus[name].push(arg);\n};\n\nRepository.prototype.once = function once(name, arg) {\n    return (this._interfaceDefs[name].sinkFactory || _genericSinkFactory).call(this, name, Bacon.once(arg));\n};\n\nRepository.defineInterface = function defineInterface(repository_class, name) {\n    repository_class.prototype[name] = function(arg) { return this.push(name, arg); }\n    repository_class.prototype[name + 'Once'] = function(arg) { return this.once(name, arg); }\n};\n\n_.forEach(['add', 'bulkAdd', 'update', 'find', 'findAll', 'remove'], function(name) {\n    Repository.defineInterface(Repository, name);\n});\n\nfunction _genericSinkFactory(name, upstream) {\n    var def = _getInterfaceDef.call(this, name),\n        sink = null;\n    if (def['in']) {\n        upstream = upstream.map(def['in']);\n    }\n    sink = this.storage['make' + util.capitalize(def['type']) + 'ItemStream'](\n        _makeStorageParams(upstream, def['path'])\n    );\n    if (def['out']) {\n        sink = sink.map(def['out']);\n    }\n    return sink;\n}\n\nfunction _getInterfaceDef(func) {\n    return _.defaults(this._interfaceDefs[func] || {}, {\n        path: this.path,\n    });\n};\n\nfunction _makeStorageParams(upstream, path) {\n\n    var dataStream = upstream,\n        pathStream = path,\n        keys = [];\n\n    if (!_.isString(path)) {\n        pathStream = upstream.map(path);\n    } else {\n        util.pathToRegexp(path, keys);\n        keys = _.map(keys, 'name');\n        if (keys.length > 0) {\n            dataStream = upstream.map(function(params) { return _.omit(params, keys); });\n            pathStream = upstream.map(function(params) {\n                return _.reduce(keys, function(result, key) {\n                    return result.replace(':' + key, params[key]);\n                }, path);\n            });\n        }\n    }\n\n    return Bacon.combineTemplate({\n        data: dataStream,\n        path: pathStream\n    });\n};\n\nmodule.exports = Repository;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/repository.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\n\nvar Storage = function Storage(properties) {\n        _.assign(this, properties || {});\n        this.notImplemented = new Bacon.constant(new Bacon.Error('not implemented.'));\n    };\n\nStorage.prototype.makeSetItemStream = function makeSetItemStream(upstream) {\n    return this.notImplemented;\n};\n\nStorage.prototype.makeGetItemStream = function makeGetItemStream(upstream) {\n    return this.notImplemented;\n};\n\nStorage.prototype.makeRemoveItemStream = function makeRemoveItemStream(upstream) {\n    return this.notImplemented;\n};\n\nmodule.exports = Storage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/storage.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\n\nvar Storage = require('../storage'),\n    inherit = require('../util').inherit,\n    RESTApiStorage = inherit(Storage, function RESTApiStorage(properties) {\n\n        Storage.call(this, properties);\n\n        this.pathPrefix = this.pathPrefix || '';\n        this.deleteMethod = this.deleteMethod || 'delete';\n    });\n\nfunction _makeAjaxParams(type, pathPrefix, params) {\n    return {\n        type: type,\n        url: pathPrefix + params.path,\n        data: type === 'get' ? params.data : JSON.stringify(params.data),\n        contentType: type === 'get' ? 'application/x-www-form-urlencoded' : 'application/json'\n    };\n}\n\nRESTApiStorage.prototype.makeSetItemStream = function makeSetItemStream(upstream) {\n    return upstream.map(_makeAjaxParams, 'post', this.pathPrefix).ajax();\n};\n\nRESTApiStorage.prototype.makeGetItemStream = function makeGetItemStream(upstream) {\n    return upstream.map(_makeAjaxParams, 'get', this.pathPrefix).ajax();\n};\n\nRESTApiStorage.prototype.makeRemoveItemStream = function makeRemoveItemStream(upstream) {\n    return upstream.map(_makeAjaxParams, this.deleteMethod, this.pathPrefix).ajax();\n};\n\nmodule.exports = RESTApiStorage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/storage/restapi.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\nvar Storage = require('../storage'),\n    inherit = require('../util').inherit,\n    LocalForageStorage = inherit(Storage, function LocalForageStorage(properties) {\n\n        Storage.call(this, properties);\n    });\n\nLocalForageStorage.prototype.makeSetItemStream = function makeSetItemStream(upstream) {\n    return upstream.flatMap(function(params) {\n        return Bacon.localforage.setItem(params.path, params.data);\n    });\n};\n\nLocalForageStorage.prototype.makeGetItemStream = function makeGetItemStream(upstream) {\n    return upstream.map('.path').flatMap(Bacon.localforage.getItem);\n};\n\nLocalForageStorage.prototype.makeRemoveItemStream = function makeRemoveItemStream(upstream) {\n    return upstream.map('.path').flatMap(Bacon.localforage.removeItem);\n};\n\nmodule.exports = LocalForageStorage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/storage/localforage.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\n\nvar View = function View(app, properties) {\n\n        properties = _.defaults(properties || {}, {\n            childDefs: this.childDefs || {},\n            template: this.template || '',\n            name: this.name || '',\n            el: this.el || '',\n            presenter: this.presenter || null,\n            initialize: this.initialize || null\n        });\n\n        this.app = app;\n\n        this.children = _.mapValues(properties.childDefs, function(v) {\n            return _.isPlainObject(v) ? v : { view: v };\n        });\n\n        this.presenter = properties.presenter;\n\n        this._template = properties.template;\n        this.name = properties.name;\n        this.el = properties.el;\n        this.$el = $(properties.el);\n\n        this.onRender().assign(this, 'renderTemplate', this._template);\n\n        _.forIn(this.children, function(v) {\n            this.onPostRender().map(v.map).assign(v.view, 'render');\n        }, this);\n\n        if (properties.initialize) {\n            properties.initialize.call(this);\n        }\n    };\n\nView.prototype.onPreRender = function onPreRender(f) {\n    return this.app.onPreRenderView(this.name, f);\n}\n\nView.prototype.onRender = function onRender(f) {\n    return this.app.onRenderView(this.name, f);\n}\n\nView.prototype.onPostRender = function onPostRender(f) {\n    return this.app.onPostRenderView(this.name, f);\n}\n\nView.prototype.renderHTML = function renderHTML(html) {\n    $(this.el).html(html);\n};\n\nView.prototype.renderTemplate = function renderTemplate(template, data) {\n    this.renderHTML(template(data));\n};\n\nView.prototype.render = function render(data) {\n    this.app.trigger('preRenderView', this.name, data);\n    this.app.trigger('renderView', this.name, data);\n    this.app.trigger('postRenderView', this.name, data);\n};\n\nView.prototype.showElement = function showElement($el, isShown) {\n    if (_.isString($el)) {\n        $el = $(this.el).find($el);\n    }\n    if (isShown) {\n        $el.show();\n    } else {\n        $el.hide();\n    }\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view.js\n ** module id = 11\n ** module chunks = 0\n **/","var View = require('../view'),\n    inherit = require('../util').inherit,\n    AppView = inherit(View, function AppView(app, properties) {\n\n        View.call(this, app, properties);\n    });\n\nAppView.prototype.onPreLoad = function onPreLoad(f) {\n    return this.app.onPreLoadView(this.name, f);\n}\n\nAppView.prototype.onLoad = function onLoad(f) {\n    return this.app.onLoadView(this.name, f);\n}\n\nAppView.prototype.onPostLoad = function onPostLoad(f) {\n    return this.app.onPostLoadView(this.name, f);\n}\n\nAppView.prototype.onLeave = function onLeave(f) {\n    return this.app.onLeaveView(this.name, f);\n}\n\nmodule.exports = AppView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view/appView.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = Bacon.localforage;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Bacon.localforage\"\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"organon.js"}